(() => {
  const e = /([\w-]+)|['"]{1}([^'"]*)['"]{1}/g,
    t = /<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>/g,
    n = new Set(["br", "col", "hr", "img", "input", "link", "meta"]),
    o = (e, t, n, o) => {
      const d = e.slice(t, e.indexOf("<", t)).split("Þ");
      d[0].trim().length > 0 && n.appendChild(document.createTextNode(d[0]));
      for (let e = 1, t = d.length; e < t; ++e) {
        const t = document.createTextNode("Þ");
        n.appendChild(t), o.push(t), d[e].trim().length > 0 && n.appendChild(document.createTextNode(d[e]))
      }
    },
    d = (e, t) => {
      if (t && 11 == t.nodeType) e.node.parentNode.replaceChild(t, e.node);
      else if (Array.isArray(t)) {
        const {
          parent: n
        } = e, {
          childNodes: o
        } = n;
        for (let e = j = 0; e < o.length && j < t.length;) {
          const d = o[e].uuid;
          d ? d == t[j].uuid ? (e++, j++) : t.some(e => e.uuid == d) ? n.insertBefore(t[j++], n.childNodes[e++]) : n.removeChild(n.childNodes[e]) : e++
        }
        for (; j < t.length;) n.appendChild(t[j++])
      } else e.node.nodeValue = t
    },
    r = {
      $component: () => {
        let r, l;
        return (a, ...i) => {
          if (!r) {
            const {
              frag: c,
              slots: s
            } = (d => {
              let r = -1;
              const l = [],
                a = [];
              d.replace(t, (t, i) => {
                const c = "/" !== t[1],
                  s = i + t.length,
                  p = d[s];
                let u;
                if (c) {
                  let i;
                  r++, ({
                    name: i,
                    voidElement: u
                  } = (t => {
                    let o, d = 0;
                    const r = {
                      name: "",
                      voidElement: !1,
                      attrs: {}
                    };
                    return t.replace(e, e => {
                      d % 2 ? o = e : 0 === d ? ((n.has(e) || "/" === t[t.length - 2]) && (r.voidElement = !0), r.name = e) : r.attrs[o] = e.replace(/['"]/g, ""), ++d
                    }), r
                  })(t));
                  const c = document.createElement(i),
                    m = l[r - 1];
                  !u && p && "<" !== p && o(d, s, c, a), m && m.append(c), l[r] = c
                }
                c && !u || (r--, "<" !== p && p && o(d, s, l[r], a))
              });
              const i = document.createDocumentFragment();
              return i.appendChild(l[0]), {
                frag: i,
                slots: a.map(e => ({
                  node: e,
                  parent: e.parentNode
                }))
              }
            })(a.join("Þ").trim());
            for (let e = 0, t = s.length; e < t; ++e) {
              const t = i[e];
              if (Array.isArray(t)) {
                s[e].node.nodeValue = "";
                const n = document.createDocumentFragment();
                for (let e = 0, o = t.length; e < o;) n.appendChild(t[e++]);
                s[e].parent.appendChild(n)
              } else d(s[e], t)
            }
            return c.uuid = "_" + Math.random().toString(36).substr(2, 9), c.firstChild.uuid = c.uuid, r = s, l = i, c
          }
          for (let e = 0, t = i.length; e < t; ++e) {
            const t = i[e];
            l[e] != t && (d(r[e], t), l[e] = t)
          }
        }
      }
    };
  window.StaticJs = r, module && (module.exports = r)
})();