<html>
<head>
  <title>Demo of Static.JS</title>
  <script src="./static.js"></script>
</head>
<body>
  <div id="app"></div>

  <script>
    const plug_ageComponentB = state => component`
      <ul>
        <li>Name ${state.name}</li>
      </ul>`; // TODO: bug with trailing whitespace, or any character after last
    let state_ageComponentB = {
      name: 'hey'
    };
    const ageComponentB = plug_ageComponentB(state_ageComponentB);

    const plug_ageComponent = state => component`
      <ul>
        <li>Time ${state.time}</li>
        <li>Random:${state.random}</li>
      </ul>`; // TODO: bug with trailing whitespace, or any character after last
    let state_ageComponent = {
      random: 5,
      time: 7,
    };
    const ageComponent = plug_ageComponent(state_ageComponent);

    const app = window.app(document.getElementById('app'));
    let plug = state => app`
      <ul>
        <li>
          Her name is here: ${state.first}, ${state.last}.
        </li>a
        <li>Ternary Expression: ${state.first == 'Amanda' ? 'First, Last' : 'Last, First'}
        <li>${state.children}</li>
      </ul>`; // TODO: bug with trailing whitespace, or any character after last
    let state = {
      first: 'Amanda',
      last: 'Bob',
      children: [ageComponent, ageComponentB]
    };

    setInterval(() => {
      state = Object.assign(state, {
        children: [
          state.children[1],
          state.children[0]
        ]
      });
      plug(state);
    }, 3000);

    setInterval(() => {
      state_ageComponent = Object.assign(state_ageComponent, { time: Date.now(), random: Math.random() });
      plug_ageComponent(state_ageComponent);
    }, 500);
  </script>
</body>
</html>